<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Boost Library Requirements and Guidelines :: Boost Libraries Documentation</title>
    <link rel="canonical" href="https://antora.cppalliance.org/master/libs/contributor-manual/dev/requirements.html">
    <meta name="generator" content="Antora 3.1.2">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <script>var uiRootPath = '../../_'</script>

<script>

function updateTheme() {
  if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
    document.documentElement.classList.add('dark')
    document.getElementById("theme-button").checked = true;
  } else {
    document.documentElement.classList.remove('dark')
    document.getElementById("theme-button").checked = false;
  }
};

function onThemeButton() {
  if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
    localStorage.theme = 'light';
  } else {
    localStorage.theme = 'dark';
  }
  updateTheme();
}

window.addEventListener('load', function() {
    updateTheme();
}, false);

</script>
  </head>
  <body class="article">
<header>
  <nav class="navbar">
    <div class="navbar-brand">
      <button class="site-logo"></button>
      <a class="site-name" href="https://antora.cppalliance.org/master/libs">Boost</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-tabs">
        <a class="navbar-item" href="#">News</a>
        <a class="navbar-item" href="#">Learn</a>
        <a class="navbar-item" href="#">Community</a>
        <a class="navbar-item" href="#">Libraries</a>
        <a class="navbar-item" href="#">Releases</a>
        <div id="theme">
          <input type="checkbox" id="theme-button" onclick="onThemeButton()"/>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="contributor-manual" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" title="Toggle expand/collapse all"></button>
    <h3 class="title"><a href="../index.html">Contributor Manual</a></h3>
    <ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../intro.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Development</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="borland_cpp.html">Borland C++</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bugs.html">Bugs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="design_faq.html">Boost Website Design FAQ</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="exemplar.html">Website Exemplars</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="header.html">Boost Header policy</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="index.html">Boost Development</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="int_const_guidelines.html">Coding Guidelines for Integral Constant Expressions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="library_metadata.html">Library Metadata</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="report-apr-2006.html">Review Wizard Status Report for April 2006</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="report-dec-2009.html">Review Wizard Status Report for December 2009</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="report-jan-2006.html">Review Wizard Status Report for January 2006</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="report-jun-2009.html">Review Wizard Status Report for June 2009</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="report-may-2008.html">Review Wizard Status Report for May 2008</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="report-nov-2007.html">Review Wizard Status Report for November 2007</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="report-nov-2008.html">Review Wizard Status Report for November 2008</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="report-sep-2007.html">Review Wizard Status Report for September 2007</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="requirements.html">Boost Library Requirements and Guidelines</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="reuse.html">Boost Library Reuse</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="running_regression_tests.html">Running Boost Regression Tests</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="separate_compilation.html">Guidelines for Authors of Boost Libraries Containing Separate Source</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="submissions.html">Boost Library Submission Process</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="test.html">Boost Test Policies and Protocols</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="testing.html">Testing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="website_updating.html">Boost C++ Libraries - Updating Website</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
   
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Contributor Manual</a></li>
    <li>Development</li>
    <li><a href="requirements.html">Boost Library Requirements and Guidelines</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/cppalliance/contributor-manual/edit/master/antora/modules/ROOT/pages/dev/requirements.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Boost Library Requirements and Guidelines</h1>
<div class="sect1">
<h2 id="introduction"><a class="anchor" href="#introduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This page describes requirements and guidelines for the
 content of a library submitted to Boost.</p>
</div>
<div class="paragraph">
<p>See the [Boost Library Submission
 Process](submissions.html) page for a description of the process involved.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="requirements"><a class="anchor" href="#requirements"></a>Requirements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To avoid the frustration and wasted time of a proposed
 library being rejected, it must meet these requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The license must meet the [license
requirements](#License) below. Restricted licenses like the GPL and
LGPL are not acceptable.</p>
</li>
<li>
<p>The copyright [ownership](#Ownership) must be
clear.</p>
</li>
<li>
<p>The library should be generally useful.</p>
</li>
<li>
<p>The library must meet the [portability requirements](#Portability) below.</p>
</li>
<li>
<p>The library should preferably meet the [organization requirements](#Organization) below. But is
only required to meet them after acceptance.</p>
</li>
<li>
<p>The library must come reasonably close to meeting the
[Guidelines](#Guidelines) below.
+ [Design and
 Programming](#Design_and_Programming)
+ [Filenames](#Filenames)
+ [Documentation](#Documentation)</p>
</li>
<li>
<p>The author must be willing to participate in discussions
on the mailing list, and to refine the library
accordingly.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There&#8217;s no requirement that an author read the mailing list
 for a time before making a submission. It has been noted,
 however, that submissions which begin "I just started to read
 this mailing list &#8230;&#8203;" seem to fail, often embarrassingly.</p>
</div>
<div class="sect2">
<h3 id="license"><a class="anchor" href="#license"></a>License</h3>
<div class="literalblock">
<div class="content">
<pre>requirements</pre>
</div>
</div>
<div class="paragraph">
<p>The preferred way to meet the license requirements is to use
 the [Boost Software License](../LICENSE_1_0.txt).
 See [license information](../users/license.html). If
 for any reason you do not intend to use the Boost Software
 License, please discuss the issues on the Boost [developers mailing list](../community/groups.html#main)
 first.</p>
</div>
<div class="paragraph">
<p>The license requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Must be simple to read and understand.</p>
</li>
<li>
<p>Must grant permission without fee to copy, use and modify
the software for any use (commercial and
non-commercial).</p>
</li>
<li>
<p>Must require that the license appear on all copies of the
software source code.</p>
</li>
<li>
<p>Must not require that the license appear with executables
or other binary uses of the library.</p>
</li>
<li>
<p>Must not require that the source code be available for
execution or other binary uses of the library.</p>
</li>
<li>
<p>May restrict the use of the name and description of the
library to the standard version found on the Boost web
site.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="portability"><a class="anchor" href="#portability"></a>Portability</h3>
<div class="literalblock">
<div class="content">
<pre>requirements</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>A library&#8217;s interface must portable and not restricted to
a particular compiler or operating system.</p>
</li>
<li>
<p>A library&#8217;s implementation must if possible be portable
and not restricted to a particular compiler or operating
system. If a portable implementation is not possible,
non-portable constructions are acceptable if reasonably easy
to port to other environments, and implementations are
provided for at least two popular operating systems (such as
UNIX and Windows).</p>
</li>
<li>
<p>There is no requirement that a library run on C++
compilers which do not conform to the ISO standard.</p>
</li>
<li>
<p>There is no requirement that a library run on any
particular C++ compiler. Boost contributors often try to
ensure their libraries work with popular compilers. The
boost/config.hpp [configuration
header](../doc/libs/release/libs/config/config.htm) is the preferred mechanism for working around
compiler deficiencies.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Since there is no absolute way to prove portability, many
 boost submissions demonstrate practical portability by
 compiling and executing correctly with two different C++
 compilers, often under different operating systems. Otherwise
 reviewers may disbelieve that porting is in fact practical.</p>
</div>
</div>
<div class="sect2">
<h3 id="ownership"><a class="anchor" href="#ownership"></a>Ownership</h3>
<div class="paragraph">
<p>Are you sure you own the library you are thinking of
 submitting? "How to Copyright Software" by MJ Salone, Nolo
 Press, 1990 says:
&gt;
&gt; Doing work on your own time that is very similar to
&gt;  programming you do for your employer on company time can
&gt;  raise nasty legal problems. In this situation, it&#8217;s best to
&gt;  get a written release from your employer in advance.
&gt;
&gt;
&gt;</p>
</div>
<div class="paragraph">
<p>Place a copyright notice in all the important files you
 submit. Boost won&#8217;t accept libraries without clear copyright
 information.</p>
</div>
</div>
<div class="sect2">
<h3 id="organization"><a class="anchor" href="#organization"></a>Organization</h3>
<div class="paragraph">
<p>The quality of the Boost libraries is not just about the
 APIs and code design. But also about presenting a consistent
 view to users of the libraries as a whole. Upon acceptance
 libraries must adhere to this directory and file structure:</p>
</div>
<div class="literalblock">
<div class="content">
<pre> Boost standard library organization
 | Sub-directory or file | Contents | Required |
| --- | --- | --- |
| `build` | Library build files such as a Jamfile, IDE projects,
 Makefiles, Cmake files, etc. | Required if the library has sources to build. |
| `config` | Files used for build-time configuration checks. This
 directory may contain source files and build system
 scripts to be used when building the library, tests or
 examples to check if the target system satisfies certain
 conditions. For example, a check may test if the compiler
 implements a certain feature, or if the target system
 supports a certain API. | Optional. |
| `doc` | Sources to build with and built documentation for the
 library. If the library needs to build documentation from
 non-HTML files this location must be buildable with Boost
 Build. | Required for all libraries. |
| `doc/html` | Documentation (HTML) files. | Required for all libraries with pregenerated
 documentation. And generated documentation must be
 generated here. |
| `example` | Sample program files. | Required if library has sample files. Which is highly
 recommended. |
| `index.html` | Redirection to HTML documentation. See ["Redirection"](#Redirection) for a template for this
 file. | Required for all libraries. |
| `include/boost/*library*` | Header files for the library. | Required for all libraries. |
| `meta` | Meta-data about the library. | Required for all libraries. |
| `meta/libraries.json` | [A JSON file containing
 information about the library](library_metadata.html "Library Metadata File Format") used to generate
 website and documentation for the Boost C++ Libraries
 collection. | Required for all libraries. |
| `meta/explicit-failures-markup.xml` | XML file describing expected test failures, used to
 generate the test report. | Optional |
| `src` | Source files which must be compiled to build the
 library. | Required if the library has source files to
 build. |
| `test` | Regression or other test programs or scripts. This is
 the *only* location considered for automated
 testing. If you have additional locations that need to be
 part of automated testing it is required that this
 location refer to the additional test locations. | Required for all libraries. |
| `tools` | Tools used, or offered, by the library. The structure
 within this is up to the library, but it's recommended to
 use similar structure as a regular Boost library or
 tool. | Required for libraries that have runable tools. |</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="integration"><a class="anchor" href="#integration"></a>Integration</h3>
<div class="paragraph">
<p>Once a library is accepted as part of the Boost C
 Libraries it is required that it integrate properly into the
 development, testing, documentation, and release processes.
 This integration increases the eventual quality of all the
 libraries and is integral to the expected quality of the whole
 of the Boost C Libraries from users. In addition to the
 [organization requirements](#Organization) above the
 following integration is required:</p>
</div>
<div class="sect3">
<h4 id="building-sources"><a class="anchor" href="#building-sources"></a>Building Sources</h4>
<div class="paragraph">
<p>The library needs to provide a Boost Build project that the
 user, and the top level Boost project, can use to build the
 library if it has sources to build. The Jamfile for the source
 build needs to minimally declare the project, the library
 target(s), and register the target(s) for installation. For
 example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">project boost/my\_lib ;

lib boost\_my\_lib : a.cpp ;

boost-install boost\_my\_lib ;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="testing"><a class="anchor" href="#testing"></a>Testing</h4>
<div class="paragraph">
<p>The library needs to provide a Boost Build project that the
 user, and the root Boost test script, can use to build and run
 the tests for the library. The testing build project must
 reside in the project-root/test directory and must be
 buildable from this or another directory (for example, b2
 libs/<strong>library</strong>/test from the Boost root must
 work.)</p>
</div>
<div class="paragraph">
<p>An example test/Jamfile is given below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">import testing ;

run default\_constructor.cpp ;
run copy\_constructor.cpp ;
compile nested\_value\_type.cpp ;
compile-fail invalid\_conversion\_1.cpp ;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>WARNING:</strong> This is the only location considered for
 testing by the top level testing script. If you want to test
 additional locations you must declare such that they are built
 as dependencies or by using build-project.</p>
</div>
<div class="paragraph">
<p>If the library requires a level of C++ conformance that
 precludes certain compilers or configurations from working,
 it&#8217;s possible (and recommended) to declare these requirements
 in the test Jamfile so that the tests aren&#8217;t run, to
 conserve test resources, as given in the example below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">import testing ;
import ../../config/checks/config : requires ;

project : requirements [ requires cxx11\_variadic\_templates cxx11\_template\_aliases ] ;

run cpp11\_test.cpp ;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information, see the [documentation
 of Boost.Config](../libs/config/doc/html/boost_config/build_config.html).</p>
</div>
</div>
<div class="sect3">
<h4 id="building-documentation"><a class="anchor" href="#building-documentation"></a>Building Documentation</h4>
<div class="paragraph">
<p>The library needs to provide a Boost Build project for
 building the documentation for the library. The
 project-root/doc project is the only location refered
 to by the top level documentation build scripts and the release
 building scripts. The documentation build project must have the
 following two features:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Define a boostdoc target. This target should
likely be an alias that looks roughly like:
   <code>`
   alias boostdoc : my\_boostbook\_target
       : : : &lt;implicit-dependency&gt;my\_boostbook\_target ;
   </code>`
   But if your project doesn&#8217;t integrate into the global documentation
   book you can use an empty alias like:
   <code>`
   alias boostdoc ;
   </code>`</p>
</li>
<li>
<p>The project must default to building standalone
documentation if it has any. The release scripts build this
default so as to guarantee all projects have up to date
documentation.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="guidelines"><a class="anchor" href="#guidelines"></a>Guidelines</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Please use these guidelines as a checklist for preparing the
 content a library submission. Not every guideline applies to
 every library, but a reasonable effort to comply is
 expected.</p>
</div>
<div class="sect2">
<h3 id="backwards-compatibility"><a class="anchor" href="#backwards-compatibility"></a>Backwards Compatibility</h3>
<div class="literalblock">
<div class="content">
<pre>Boost libraries generally have a large and diverse user base.
To ensure successful transitions from old APIs to newer APIs
under those circumstances, library authors are encouraged to
follow a few guidelines when introducing breaking changes in
their library:</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Non-breaking changes can be done without restriction.</p>
</li>
<li>
<p>Small breaking changes can be made, but users should be
given notice a few releases before the change is published.
Most breaking changes fall into this category.</p>
</li>
<li>
<p>For large breaking changes with a migration path from
the old API to the new API (for example boost::filesystem
v2 to v3), the new API should be introduced in a separate
directory/namespace, and users should be noticed and given
a few releases to move over. The old API can be removed after
some time.</p>
</li>
<li>
<p>For large breaking changes without a migration path
(for example boost::spirit v2 to v3), the new API
should be provided in a separate directory/namespace, and the
old API should be preserved (because there&#8217;s no migration path).
Removing the API should be considered the same as removing a
Boost library, which can be done but needs a more extensive
deprecation period.</p>
</li>
<li>
<p>Large breaking changes that are equivalent to a redesign or
rewrite of the library should be treated as a new library
and a formal review (or at least a mini review) is encouraged.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="design-and-programming"><a class="anchor" href="#design-and-programming"></a>Design and Programming</h3>
<div class="paragraph">
<p>Aim first for clarity and correctness; optimization should
 be only a secondary concern in most Boost libraries.</p>
</div>
<div class="paragraph">
<p>Aim for ISO Standard C. Than means making effective use of
 the standard features of the language, and avoiding
 non-standard compiler extensions. It also means using the C
 Standard Library where applicable.</p>
</div>
<div class="paragraph">
<p>Headers should be good neighbors. See the [header policy](./header.html). See [Naming consistency](#Naming_consistency).</p>
</div>
<div class="paragraph">
<p>Follow quality programming practices. See, for example,
 "Effective C" 2nd Edition, and "More Effective C", both by
 Scott Meyers, published by Addison Wesley.</p>
</div>
<div class="paragraph">
<p>Use the C Standard Library or other Boost libraries, but
 only when the benefits outweigh the costs. Do not use libraries
 other than the C Standard Library or Boost. See [Library reuse](./reuse.html).</p>
</div>
<div class="paragraph">
<p>Read [Implementation
 Variation](../community/implementation_variations.html) to see how to supply performance, platform, or
 other implementation variations.</p>
</div>
<div class="paragraph">
<p>Browse through [the
 Best Practices Handbook](<a href="https://svn.boost.org/trac/boost/wiki/BestPracticeHandbook" class="bare">https://svn.boost.org/trac/boost/wiki/BestPracticeHandbook</a>) for ideas and links to source code
 in existing Boost libraries.</p>
</div>
<div class="paragraph">
<p>Read the [guidelines
 for libraries with separate source](./separate_compilation.html) to see how to ensure
 that compiled link libraries meet user expectations.</p>
</div>
<div class="paragraph">
<p>Use the naming conventions of the C++ Standard Library (See
 [Naming conventions rationale](#Naming)):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Names (except as noted below) should be all lowercase,
with words separated by underscores.</p>
</li>
<li>
<p>Acronyms should be treated as ordinary names (e.g.
<code>xml_parser</code> instead of
<code>XML_parser</code>).</p>
</li>
<li>
<p>Template parameter names begin with an uppercase
letter.</p>
</li>
<li>
<p>Macro (gasp!) names all uppercase and begin with
BOOST\_.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Choose meaningful names - explicit is better than implicit,
 and readability counts. There is a strong preference for clear
 and descriptive names, even if lengthy.</p>
</div>
<div class="paragraph">
<p>Use exceptions to report errors where appropriate, and write
 code that is safe in the face of exceptions.</p>
</div>
<div class="paragraph">
<p>Avoid exception-specifications. See [exception-specification
 rationale](#Exception-specification).</p>
</div>
<div class="paragraph">
<p>Provide sample programs or confidence tests so potential
 users can see how to use your library.</p>
</div>
<div class="paragraph">
<p>Provide a regression test program or programs which follow
 the [Test Policies and Protocols](./test.html).</p>
</div>
<div class="paragraph">
<p>Although some boost members use proportional fonts, tabs,
 and unrestricted line lengths in their own code, boost&#8217;s widely
 distributed source code should follow more conservative
 guidelines:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use fixed-width fonts. See [fonts
rationale](#code_fonts).</p>
</li>
<li>
<p>Use spaces rather than tabs. See [tabs
rationale](#Tabs).</p>
</li>
<li>
<p>Limit line lengths to 80 characters.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>End all documentation files (HTML or otherwise) with a
 copyright message and a licensing message. See the [license information](../users/license.html) page for the
 preferred form.</p>
</div>
<div class="paragraph">
<p>Begin all source files (including programs, headers,
 scripts, etc.) with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A comment line describing the contents of the file.</p>
</li>
<li>
<p>Comments describing copyright and licensing: again, the
preferred form is indicated in the [license information](../users/license.html) page</p>
</li>
<li>
<p>Note that developers are allowed to provide a copy of
the license text in <code>LICENSE_1_0.txt</code>,
<code>LICENSE.txt</code> or <code>LICENSE</code>
file within repositories of their libraries.</p>
</li>
<li>
<p>A comment line referencing your library on the Boost web
site. For example:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">// See https://www.boost.org/libs/foo for library home page.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where <code>foo</code> is the directory name (see below)
 for the library. As well as aiding users who come across a
 Boost file detached from its documentation, some of Boost&#8217;s
 automatic tools depend on this comment to identify which
 library header files belong to.</p>
</div>
<div class="paragraph">
<p><strong>Assertions:</strong> If you want to add runtime
 assertions to your code (you should!), avoid C&#8217;s
 <code>assert</code> macro and use Boost&#8217;s
 <code>BOOST_ASSERT</code> macro (in
 <code>boost/assert.hpp</code> ) instead. It is more
 configurable. Use <code>BOOST_ASSERT</code> in public headers
 and in library source code (for separately compiled libraries).
 Use of C&#8217;s <code>assert</code> macro is ok in examples and in
 documentation.</p>
</div>
<div class="paragraph">
<p>Make sure your code compiles in the presence of the
 <code>min()</code> and <code>max()</code> macros. Some platform
 headers define <code>min()</code> and <code>max()</code> macros
 which cause some common C++ constructs to fail to compile. Some
 simple tricks can protect your code from inappropriate macro
 substitution:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If you want to call <code>std::min()</code> or
<code>std::max()</code>:
+ If you do not require argument-dependent look-up, use
 <code>(std::min)(a,b)</code>.
+ If you do require argument-dependent look-up, you
 should:</p>
<div class="ulist">
<ul>
<li>
<p><code>#include
&lt;boost/config.hpp&gt;</code></p>
</li>
<li>
<p>Use <code>BOOST_USING_STD_MIN();</code> to bring
<code>std::min()</code> into the current scope.</p>
</li>
<li>
<p>Use <code>min BOOST_PREVENT_MACRO_SUBSTITUTION
(a,b);</code> to make an argument-dependent call to
<code>min(a,b)</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>If you want to call
<code>std::numeric_limits&lt;int&gt;::max()</code>, use
<code>(std::numeric_limits&lt;int&gt;::max)()</code>
instead.</p>
</li>
<li>
<p>If you want to call a <code>min()</code> or
<code>max()</code> member function, instead to doing
<code>obj.min()</code>, use <code>(obj.min)()</code>.</p>
</li>
<li>
<p>If you want to declare or define a function or a member
function named <code>min</code> or <code>max</code>, then you
must use the <code>BOOST_PREVENT_MACRO_SUBSTITUTION</code>
macro. Instead of writing <code>int min() { return 0;
}</code> you should write <code>int min
BOOST_PREVENT_MACRO_SUBSTITUTION () { return 0; }</code> This
is true regardless if the function is a free (namespace
scope) function, a member function or a static member
function, and it applies for the function declaration as well
as for the function definition.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><mark>#</mark>
Filenames</p>
</div>
<div class="paragraph">
<p>Naming requirements ensure that file and directory names are
 relatively portable, including to ISO 9660:1999 (with
 extensions) and other relatively limited file systems.
 Superscript links are provided to detailed rationale for each
 choice.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Names must contain only
<strong>lowercase</strong>[1](#Filename_rationale_1) ASCII letters
(<code>'a'</code>-<code>'z'</code>), numbers
(<code>'0'</code>-<code>'9'</code>), underscores
(<code>'_'</code>), hyphens (<code>'-&#8216;), and periods
(&#8217;.'</code>). Spaces are not allowed[2](#Filename_rationale_2).</p>
</li>
<li>
<p>Directory names must not contain periods
(<code>'.'</code>)[3](#Filename_Rationale_3).</p>
</li>
<li>
<p>The first and last character of a file name must not be a
period (<code>'.'</code>)[4](#Filename_rationale_4).</p>
</li>
<li>
<p>The first character of names must not be a hyphen
(<code>'-'</code>)[5](#Filename_rationale_5).</p>
</li>
<li>
<p>The maximum length of directory and file names is 31
characters[6](#Filename_rationale_6).</p>
</li>
<li>
<p>The total path length must not exceed 207
characters[7](#Filename_rationale_7).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Other conventions ease communication:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Files intended to be processed by a C compiler as part
of a translation unit should have **a three-letter
filename extension ending in "pp"**. Other files
should *not* use extensions ending in "pp". This
convention makes it easy to identify all of the C source in
Boost.</p>
</li>
<li>
<p>All libraries have at their highest level a primary
directory named for the particular library. See [Naming consistency](#Naming_consistency). The primary
directory may have sub-directories.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="redirection"><a class="anchor" href="#redirection"></a>Redirection</h4>
<div class="paragraph">
<p>The primary directory should always contain a file named
 index.html. Authors have requested this so that they can
 publish URL&#8217;s in the form
 <strong><a href="https://www.boost.org/libs/lib-name" class="bare">https://www.boost.org/libs/lib-name</a></strong> with the assurance a
 documentation reorganization won&#8217;t invalidate the URL. Boost&#8217;s
 internal tools are also simplified by knowing that a library&#8217;s
 documentation is always reachable via the simplified URL.</p>
</div>
<div class="paragraph">
<p>The primary directory <code>index.html</code> file should
 just do an automatic redirection to the <code>doc/html</code>
 subdirectory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;

&lt;html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"&gt;
&lt;head&gt;
  &lt;title&gt;Boost.Name Documentation&lt;/title&gt;
  &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
  &lt;meta http-equiv="refresh" content="0; URL=doc/html/index.html" /&gt;
&lt;/head&gt;

&lt;body&gt;
  Automatic redirection failed, please go to &lt;a href=
  "doc/index.html"&gt;doc/index.html&lt;/a&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="naming-consistency"><a class="anchor" href="#naming-consistency"></a>Naming consistency</h3>
<div class="paragraph">
<p>As library developers and users have gained experience with
 Boost, the following consistent naming approach has come to be
 viewed as very helpful, particularly for larger libraries that
 need their own header subdirectories and namespaces.</p>
</div>
<div class="paragraph">
<p>Here is how it works. The library is given a name that
 describes the contents of the library. Cryptic abbreviations
 are strongly discouraged. Following the practice of the C++
 Standard Library, names are usually singular rather than
 plural. For example, a library dealing with file systems might
 chose the name "filesystem", but not "filesystems", "fs" or
 "nicecode".</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The library&#8217;s primary directory (in parent
boost-root/libs) is given that same name. For
example, boost-root/libs/filesystem.</p>
</li>
<li>
<p>The library&#8217;s primary header directory (in
boost-root/libs/name/include) is given that same
name. For example,
boost-root/libs/filesystem/boost/filesystem.</p>
</li>
<li>
<p>The library&#8217;s primary namespace (in parent
<strong>::boost</strong>) is given that same name, except when
there&#8217;s a component with that name (e.g.,
<strong>boost::tuple</strong>), in which case the namespace name is
pluralized. For example, <strong>::boost::filesystem</strong>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When documenting Boost libraries, follow these conventions
 (see also the following section of this document):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The library name is set in roman type.</p>
</li>
<li>
<p>The library name is capitalized.</p>
</li>
<li>
<p>A period between "Boost" and the library name (e.g.,
Boost.Bind) is used if and only if the library name is not
followed by the word "library".</p>
</li>
<li>
<p>The word "library" is not part of the library name and is
therefore lowercased.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here are a few examples of how to apply these
 conventions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Boost.Bind was written by Peter Dimov.</p>
</li>
<li>
<p>The Boost Bind library was written by Peter Dimov.</p>
</li>
<li>
<p>I regularly use Bind, a Boost library written by Peter
Dimov.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="documentation"><a class="anchor" href="#documentation"></a>Documentation</h3>
<div class="paragraph">
<p>Even the simplest library needs some documentation; the
 amount should be proportional to the need. The documentation
 should assume the readers have a basic knowledge of C++, but
 are not necessarily experts.</p>
</div>
<div class="paragraph">
<p>The format for documentation should be HTML, and should not
 require an advanced browser or server-side extensions. Style
 sheets are acceptable. ECMAScript/JavaScript is discouraged.
 The documentation entry point should always be a file named
 index.html; see [Redirection](#Redirection).</p>
</div>
<div class="paragraph">
<p>There is no single right way to do documentation. HTML
 documentation is often organized quite differently from
 traditional printed documents. Task-oriented styles differ from
 reference oriented styles. In the end, it comes down to the
 question: Is the documentation sufficient for the mythical
 "average" C++ programmer to use the library successfully?</p>
</div>
<div class="paragraph">
<p>Appropriate topics for documentation often include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>General introduction to the library. The introduction
particularly needs to include:
+ A very high-level overview of what the library is
 good for, and perhaps what it isn&#8217;t good for,
 understandable even by those with no prior knowledge of
 the problem domain.
+ The simplest possible ("hello world") example of
 using the library.</p>
</li>
<li>
<p>Tutorial covering basic use cases.</p>
</li>
<li>
<p>Reference documentation:
+ Description of each class.
+ Relationship between classes.
+ For each function, as applicable, description,
 requirements (preconditions), effects, post-conditions,
 returns, and throws.
+ Discussion of error detection and recovery
 strategy.</p>
</li>
<li>
<p>How to compile and link.</p>
</li>
<li>
<p>How to test.</p>
</li>
<li>
<p>Version or revision history.</p>
</li>
<li>
<p>Rationale for design decisions. See [Rationale rationale](#Rationale).</p>
</li>
<li>
<p>Acknowledgements. See [Acknowledgments rationale.](#Acknowledgements)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you need more help with how to write documentation you
 can check out the article on [Writing
 Documentation for Boost](../doc/libs/release/more/writingdoc/index.html).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rationale"><a class="anchor" href="#rationale"></a>Rationale</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Rationale for some of the requirements and guidelines
 follows.</p>
</div>
<div class="sect2">
<h3 id="exception-specification-rationale"><a class="anchor" href="#exception-specification-rationale"></a>Exception-specification rationale</h3>
<div class="paragraph">
<p>Exception specifications [ISO 15.4] are sometimes coded to
indicate what exceptions may be thrown, or because the
programmer hopes they will improve performance. But consider
the following member from a smart pointer:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">T&amp; operator\*() const throw()  { return \*ptr; }</code></pre>
</div>
</div>
<div class="paragraph">
<p>This function calls no other functions; it only manipulates
 fundamental data types like pointers Therefore, no runtime
 behavior of the exception-specification can ever be invoked.
 The function is completely exposed to the compiler; indeed it
 is declared inline Therefore, a smart compiler can easily
 deduce that the functions are incapable of throwing exceptions,
 and make the same optimizations it would have made based on the
 empty exception-specification. A "dumb" compiler, however, may
 make all kinds of pessimizations.</p>
</div>
<div class="paragraph">
<p>For example, some compilers turn off inlining if there is an
 exception-specification. Some compilers add try/catch blocks.
 Such pessimizations can be a performance disaster which makes
 the code unusable in practical applications.</p>
</div>
<div class="paragraph">
<p>Although initially appealing, an exception-specification
 tends to have consequences that require <strong>very</strong>
 careful thought to understand. The biggest problem with
 exception-specifications is that programmers use them as though
 they have the effect the programmer would like, instead of the
 effect they actually have.</p>
</div>
<div class="paragraph">
<p>A non-inline function is the one place a "throws nothing"
 exception-specification may have some benefit with some
 compilers.</p>
</div>
</div>
<div class="sect2">
<h3 id="naming-conventions-rationale"><a class="anchor" href="#naming-conventions-rationale"></a>Naming conventions rationale</h3>
<div class="paragraph">
<p>The C++ standard committee&#8217;s Library Working Group discussed
 this issue in detail, and over a long period of time. The
 discussion was repeated again in early boost postings. A short
 summary:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Naming conventions are contentious, and although several
are widely used, no one style predominates.</p>
</li>
<li>
<p>Given the intent to propose portions of boost for the
next revision of the C++ standard library, boost decided to
follow the standard library&#8217;s conventions.</p>
</li>
<li>
<p>Once a library settles on a particular convention, a vast
majority of stakeholders want that style to be consistently
used.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="source-code-fonts-rationale"><a class="anchor" href="#source-code-fonts-rationale"></a>Source code fonts rationale</h3>
<div class="paragraph">
<p>Dave Abrahams comments: An important purpose (I daresay the
 primary purpose) of source code is communication: the
 documentation of intent. This is a doubly important goal for
 boost, I think. Using a fixed-width font allows us to
 communicate with more people, in more ways (diagrams are
 possible) right there in the source. Code written for
 fixed-width fonts using spaces will read reasonably well when
 viewed with a variable-width font, and as far as I can tell
 every editor supporting variable-width fonts also supports
 fixed width. I don&#8217;t think the converse is true.</p>
</div>
</div>
<div class="sect2">
<h3 id="tabs-rationale"><a class="anchor" href="#tabs-rationale"></a>Tabs rationale</h3>
<div class="paragraph">
<p>Tabs are banned because of the practical problems caused by
 tabs in multi-developer projects like Boost, rather than any
 dislike in principle. See [mailing list archives](../community/groups.html#archive).
 Problems include maintenance of a single source file by
 programmers using tabs and programmers using spaces, and the
 difficulty of enforcing a consistent tab policy other than just
 "no tabs". Discussions concluded that Boost files should either
 all use tabs, or all use spaces, and thus the decision to stick
 with spaces for indentation.</p>
</div>
</div>
<div class="sect2">
<h3 id="directory-and-file-names-rationale"><a class="anchor" href="#directory-and-file-names-rationale"></a>Directory and File Names rationale</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Some legacy file systems require
single-case names. Single-case names eliminate casing mistakes
when moving from case-insensitive to case-sensitive file
systems.</p>
</li>
<li>
<p>This is the lowercase portion of
the POSIX portable filename character set. To quote the POSIX
standard, "Filenames should be constructed from the portable
filename character set because the use of other characters can
be confusing or ambiguous in certain contexts."</p>
</li>
<li>
<p>Strict implementations of ISO
9660:1999 and some legacy operating systems prohibit dots in
directory names. The need for this restriction is fading, and
it will probably be removed fairly soon.</p>
</li>
<li>
<p>POSIX has special rules for names
beginning with a period. Windows prohibits names ending in a
period.</p>
</li>
<li>
<p>Would be too confusing or
ambiguous in certain contexts.</p>
</li>
<li>
<p>We had to draw the line
somewhere, and so the limit imposed by a now obsolete Apple
file system was chosen years ago. It still seems a reasonable
limit to aid human comprehension.</p>
</li>
<li>
<p>ISO 9660:1999.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="ecmascriptjavascript-rationale"><a class="anchor" href="#ecmascriptjavascript-rationale"></a>ECMAScript/JavaScript rationale</h3>
<div class="paragraph">
<p>Before the 1.29.0 release, two Boost libraries added
 ECMAScript/JavaScript documentation. Controversy followed (see
 [mailing list
 archives](../community/groups.html#archive)), and the developers were asked to remove the
 ECMAScript/JavaScript. Reasons given for banning included:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Incompatible with some older browsers and some text based
browsers.</p>
</li>
<li>
<p>Makes printing docs pages difficult.</p>
</li>
<li>
<p>Often results in really bad user interface design.</p>
</li>
<li>
<p>"It&#8217;s just annoying in general."</p>
</li>
<li>
<p>Would require Boost to test web pages for
ECMAScript/JavaScript compliance.</p>
</li>
<li>
<p>Makes docs maintenance by other than the original
developer more difficult.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Please conside those reasons if you decide that JavaScript
 is something you must use. In particular please keep in mind
 that the Boost community is not responsible for testing your
 use of JavaScript. And hence it is up to you to ensure that the
 above issues are fully resolved in your use case.</p>
</div>
<div class="paragraph">
<p>ECMAScript/JavaScript use is allowed but discouraged for the
 reasons above.</p>
</div>
</div>
<div class="sect2">
<h3 id="rationale-rationale"><a class="anchor" href="#rationale-rationale"></a>Rationale rationale</h3>
<div class="paragraph">
<p>Rationale is defined as "The fundamental reasons for
 something; basis" by the American Heritage Dictionary.</p>
</div>
<div class="paragraph">
<p>Beman Dawes comments: Failure to supply contemporaneous
 rationale for design decisions is a major defect in many
 software projects. Lack of accurate rationale causes issues to
 be revisited endlessly, causes maintenance bugs when a
 maintainer changes something without realizing it was done a
 certain way for some purpose, and shortens the useful lifetime
 of software.</p>
</div>
<div class="paragraph">
<p>Rationale is fairly easy to provide at the time decisions
 are made, but very hard to accurately recover even a short time
 later.</p>
</div>
</div>
<div class="sect2">
<h3 id="acknowledgements-rationale"><a class="anchor" href="#acknowledgements-rationale"></a>Acknowledgements rationale</h3>
<div class="paragraph">
<p>As a library matures, it almost always accumulates
 improvements suggested to the authors by other boost members.
 It is a part of the culture of boost.org to acknowledge such
 contributions, identifying the person making the suggestion.
 Major contributions are usually acknowledged in the
 documentation, while minor fixes are often mentioned in
 comments within the code itself.</p>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
